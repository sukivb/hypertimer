/**
 * hypertimer.js
 * https://github.com/enmasseio/hypertimer
 *
 * Time control for simulations.
 *
 * Run a timer at a faster or slower pace than real-time, or run discrete events.
 *
 * @version 2.1.3
 * @date    2016-06-22
 *
 * @license
 * Copyright (C) 2014-2015 Almende B.V., http://almende.com
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not
 * use this file except in compliance with the License. You may obtain a copy
 * of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations under
 * the License.
 */
!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("ws"),require("debug")):"function"==typeof define&&define.amd?define(["ws","debug"],n):"object"==typeof exports?exports.hypertimer=n(require("ws"),require("debug")):t.hypertimer=n(t.ws,t.debug)}(this,function(t,n){return function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){t.exports=e(1)},function(t,n,e){function r(t){function n(){return{paced:g,rate:w,deterministic:b,time:_,master:T,port:O,federateCount:x,bootstrapFederateCount:N}}function e(t){if(D||t.master)for(var n in t)if("master"!==n&&"slave"!==n)throw new Error('Cannot apply configuration option "'+n+'", timer is configured as slave.')}function r(t){function e(t){q.pause()}function o(t){q["continue"]()}function i(t){var e=n();r(t);var o=n();q.emit("config",o,e)}if("deterministic"in t&&(b=t.deterministic?!0:!1),x="federateCount"in t?t.federateCount:0,"paced"in t&&(g=t.paced?!0:!1),"time"in t&&(k=y(t.time),E=a.systemNow(),l(k),_=new Date(k).toISOString()),"rate"in t){var f=Number(t.rate);if(isNaN(f)||0>=f)throw new TypeError("Invalid rate "+JSON.stringify(t.rate)+". Rate must be a positive number");k=q.now(),E=a.systemNow(),w=f}"bootstrapFederateCount"in t&&(N=t.bootstrapFederateCount),"master"in t&&(D&&(D.destroy(),D=null),T=t.master,null!=t.master&&(D=c(t.master),D.on("change",function(t){i({time:t})}),D.on("config",function(t){i(t)}),D.on("pause",function(t){e(t)}),D.on("continue",function(t){o(t)}),D.on("error",function(t){q.emit("error",t)}))),"port"in t&&(R&&(R.destroy(),R=null),O=t.port,t.port&&(R=u(q.now,q.config,t.port),R.on("pause",function(t){e(t)}),R.on("continue",function(t){o(t)}),R.on("error",function(t){q.emit("error",t)}))),m(),R&&R.broadcastConfig()}function l(t){for(var n=0;n<S.length;n++){var e=S[n];e.type===s.INTERVAL&&p(e,t)}}function p(t,n){t.occurrence=Math.round((n-t.firstTime)/t.interval),t.time=t.firstTime+t.occurrence*t.interval}function d(t){if(S.length>0){for(var n=S.length-1;n>=0&&S[n].time>t.time;)n--;S.splice(n+1,0,t)}else S.push(t)}function h(t,n){function e(){t.type===s.INTERVAL&&C[t.id]&&(t.occurrence++,t.time=t.firstTime+t.occurrence*t.interval,d(t)),delete C[t.id],n&&n()}C[t.id]=t,M[t.time]="undefined"!=typeof M[t.time]?M[t.time]+1:1;try{0==t.callback.length?(t.callback(),e()):t.callback(e)}catch(r){i(q,"error")?q.emit("error",r):console.log("Error",r),e()}}function v(t){for(var n=0;n<S.length&&(S[n].time<=t||!isFinite(S[n].time));)n++;var e=S.splice(0,n);return 0==b&&a.shuffle(e),e}function m(){function t(){function t(){var e=n.shift();e?h(e,t):m()}g||(k=e>k&&isFinite(e)?e:k);var n=v(e);g?(n.forEach(function(t){h(t)}),m()):t()}if(g||!(Object.keys(C).length>0)){var n=S[0];if(I&&(clearTimeout(I),I=null),j&&n){var e=n.time,r=e-q.now(),o=g?r/w:0;I=setTimeout(t,Math.round(o))}}}function y(t){var n="number"==typeof t?t:t instanceof Date?t.valueOf():new Date(t).valueOf();if(isNaN(n))throw new TypeError("Invalid date "+JSON.stringify(t)+". Date, number, or ISOString expected");return n}f("A timer is instantiated with options: "+JSON.stringify(t));var g=!0,w=1,b=!0,_=null,T=null,O=null,x=0,N=0,j=!1,E=null,k=a.systemNow(),S=[],C={},I=null,F=0,R=null,D=null,q=o({});q.config=function(t){return t&&(e(t),r(t)),n()},q.now=function(){if(g){if(j){var t=a.systemNow()-E,n=t*w;return k+n}return k}return k},q["continue"]=function(){E=a.systemNow(),f("continued at: "+q.getTime()),q.emit("continue",q.getTime()),j=!0,m()},q.pause=function(){k=q.now(),f("paused at: "+q.getTime()),q.emit("pause",q.getTime()),E=null,j=!1,m()},q.getTime=function(){return new Date(q.now())},q.valueOf=q.getTime,q.toString=function(){return q.getTime().toString()},q.setTimeout=function(t,n){var e=F++,r=q.now()+n;if(isNaN(r))throw new TypeError("delay must be a number");return d({id:e,type:s.TIMEOUT,time:r,callback:t}),m(),e},q.setTrigger=function(t,n){var e=F++,r=y(n);return d({id:e,type:s.TRIGGER,time:r,callback:t}),m(),e},q.setInterval=function(t,n,e){var r=F++,o=Number(n);if(isNaN(o))throw new TypeError("interval must be a number");(0>o||!isFinite(o))&&(o=0);var i=void 0!=e?y(e):null,u=q.now(),c=null!=i?i:u+o,a={id:r,type:s.INTERVAL,interval:o,time:c,firstTime:null!=i?i:c,occurrence:0,callback:t};return u>c&&p(a,u),d(a),m(),r},q.clearTimeout=function(t){if(C[t])return void delete C[t];for(var n=0;n<S.length;n++)if(S[n].id===t){S.splice(n,1),m();break}},q.clearTrigger=q.clearTimeout,q.clearInterval=q.clearTimeout,q.list=function(){return S.map(function(t){return t.id})},q.clear=function(){C={},S=[],m()},q.destroy=function(){q.clear(),D&&D.destroy(),R&&R.destroy(),q.emit("destroy")},q.getFederateCount=function(){return n().federateCount},q.getBootstrapFederateCount=function(){return n().bootstrapFederateCount};var M={};return Object.defineProperty(q,"running",{get:function(){return j}}),q.config(t),D||q.getBootstrapFederateCount()!=q.getFederateCount()||q["continue"](),q}var o=e(2),i=e(17),u=e(19).createMaster,c=e(35).createSlave,a=e(38),f=e(33)("hypertimer:root"),s={TIMEOUT:0,INTERVAL:1,TRIGGER:2};t.exports=r},function(t,n,e){"use strict";var r,o,i,u,c,a,f,s=e(3),l=e(16),p=Function.prototype.apply,d=Function.prototype.call,h=Object.create,v=Object.defineProperty,m=Object.defineProperties,y=Object.prototype.hasOwnProperty,g={configurable:!0,enumerable:!1,writable:!0};r=function(t,n){var e;return l(n),y.call(this,"__ee__")?e=this.__ee__:(e=g.value=h(null),v(this,"__ee__",g),g.value=null),e[t]?"object"==typeof e[t]?e[t].push(n):e[t]=[e[t],n]:e[t]=n,this},o=function(t,n){var e,o;return l(n),o=this,r.call(this,t,e=function(){i.call(o,t,e),p.call(n,this,arguments)}),e.__eeOnceListener__=n,this},i=function(t,n){var e,r,o,i;if(l(n),!y.call(this,"__ee__"))return this;if(e=this.__ee__,!e[t])return this;if(r=e[t],"object"==typeof r)for(i=0;o=r[i];++i)(o===n||o.__eeOnceListener__===n)&&(2===r.length?e[t]=r[i?0:1]:r.splice(i,1));else(r===n||r.__eeOnceListener__===n)&&delete e[t];return this},u=function(t){var n,e,r,o,i;if(y.call(this,"__ee__")&&(o=this.__ee__[t]))if("object"==typeof o){for(e=arguments.length,i=new Array(e-1),n=1;e>n;++n)i[n-1]=arguments[n];for(o=o.slice(),n=0;r=o[n];++n)p.call(r,this,i)}else switch(arguments.length){case 1:d.call(o,this);break;case 2:d.call(o,this,arguments[1]);break;case 3:d.call(o,this,arguments[1],arguments[2]);break;default:for(e=arguments.length,i=new Array(e-1),n=1;e>n;++n)i[n-1]=arguments[n];p.call(o,this,i)}},c={on:r,once:o,off:i,emit:u},a={on:s(r),once:s(o),off:s(i),emit:s(u)},f=m({},a),t.exports=n=function(t){return null==t?h(f):m(Object(t),a)},n.methods=c},function(t,n,e){"use strict";var r,o=e(4),i=e(11),u=e(12),c=e(13);r=t.exports=function(t,n){var e,r,u,a,f;return arguments.length<2||"string"!=typeof t?(a=n,n=t,t=null):a=arguments[2],null==t?(e=u=!0,r=!1):(e=c.call(t,"c"),r=c.call(t,"e"),u=c.call(t,"w")),f={value:n,configurable:e,enumerable:r,writable:u},a?o(i(a),f):f},r.gs=function(t,n,e){var r,a,f,s;return"string"!=typeof t?(f=e,e=n,n=t,t=null):f=arguments[3],null==n?n=void 0:u(n)?null==e?e=void 0:u(e)||(f=e,e=void 0):(f=n,n=e=void 0),null==t?(r=!0,a=!1):(r=c.call(t,"c"),a=c.call(t,"e")),s={get:n,set:e,configurable:r,enumerable:a},f?o(i(f),s):s}},function(t,n,e){"use strict";t.exports=e(5)()?Object.assign:e(6)},function(t,n){"use strict";t.exports=function(){var t,n=Object.assign;return"function"!=typeof n?!1:(t={foo:"raz"},n(t,{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},function(t,n,e){"use strict";var r=e(7),o=e(10),i=Math.max;t.exports=function(t,n){var e,u,c,a=i(arguments.length,2);for(t=Object(o(t)),c=function(r){try{t[r]=n[r]}catch(o){e||(e=o)}},u=1;a>u;++u)n=arguments[u],r(n).forEach(c);if(void 0!==e)throw e;return t}},function(t,n,e){"use strict";t.exports=e(8)()?Object.keys:e(9)},function(t,n){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},function(t,n){"use strict";var e=Object.keys;t.exports=function(t){return e(null==t?t:Object(t))}},function(t,n){"use strict";t.exports=function(t){if(null==t)throw new TypeError("Cannot use null or undefined");return t}},function(t,n){"use strict";var e=Array.prototype.forEach,r=Object.create,o=function(t,n){var e;for(e in t)n[e]=t[e]};t.exports=function(t){var n=r(null);return e.call(arguments,function(t){null!=t&&o(Object(t),n)}),n}},function(t,n){"use strict";t.exports=function(t){return"function"==typeof t}},function(t,n,e){"use strict";t.exports=e(14)()?String.prototype.contains:e(15)},function(t,n){"use strict";var e="razdwatrzy";t.exports=function(){return"function"!=typeof e.contains?!1:e.contains("dwa")===!0&&e.contains("foo")===!1}},function(t,n){"use strict";var e=String.prototype.indexOf;t.exports=function(t){return e.call(this,t,arguments[1])>-1}},function(t,n){"use strict";t.exports=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}},function(t,n,e){"use strict";var r=e(18),o=e(10),i=Object.prototype.hasOwnProperty;t.exports=function(t){var n;return o(t),n=arguments[1],arguments.length>1?i.call(t,"__ee__")&&Boolean(t.__ee__[n]):t.hasOwnProperty("__ee__")&&!r(t.__ee__)}},function(t,n,e){"use strict";var r=e(10),o=Object.prototype.propertyIsEnumerable;t.exports=function(t){var n;r(t);for(n in t)if(o.call(t,n))return!1;return!0}},function(t,n,e){var r=e(20),o=e(22),i=e(33)("hypertimer:master");n.createMaster=function(t,n,e){function u(){var t=n();return delete t.time,delete t.master,delete t.port,t.federateCount=c.clients.length,t}var c=new r.Server({port:e}),a={},f={};return c.on("connection",function(n){i("new connection");var e=o(n);e.on("time",function(n,e){var r=t(),o=n;if(i("timetoken: "+o),"undefined"==typeof f[o]?(c.broadcast("pause",o),f[o]=1):f[o]=f[o]+1,i("federates done: "+f[o]+" of "+u().federateCount),i("queued time "+new Date(r).toISOString()),"undefined"==typeof a[o]?a[o]=[e]:a[o].push(e),f[o]==u().federateCount&&a[o].length>0){for(var s=0;s<a[o].length;s++)a[o][s](r),i("send time "+new Date(r).toISOString());c.broadcast("continue",o),delete a[o],delete f[o]}}),n.on("close",function(){for(var t=0;t<c.clients.length;t++)if(c.clients[t]==n){c.clients.splice(t,1);break}}),n.emitter=e,c.broadcastConfig()}),c.broadcastConfig=function(){var t=u();i("send config",t),c.broadcast("config",t)},c.broadcast=function(t,n){i("broadcast",t,n),c.clients.forEach(function(e){e.emitter.send(t,n)}),c.emit(t,n)},c.destroy=function(){c.close(),i("destroyed")},i("listening at ws://localhost:"+e),c}},function(t,n,e){t.exports="undefined"==typeof window||"undefined"==typeof window.WebSocket?e(21):window.WebSocket},function(n,e){n.exports=t},function(t,n,e){var r=e(2),o=e(23),i=e(33)("hypertimer:socket"),u=6e4;t.exports=function(t){function n(n,e){var r={event:n,data:e};i("send",r),t.send(JSON.stringify(r))}function e(n,e){return new o(function(r,o){var a=c();"undefined"==typeof e&&(e=a);var s={event:n,id:a,data:e};f[a]={resolve:r,reject:o,timeout:setTimeout(function(){delete f[a],o(new Error("Timeout"))},u)},i("request",s),t.send(JSON.stringify(s))})["catch"](function(t){console.log("ERROR",t)})}function c(){return s++}var a=r({socket:t,send:n,request:e});t.onmessage=function(n){var e=n.data,r=JSON.parse(e);i("receive",r);var o=f[r.id];o?(clearTimeout(o.timeout),delete f[r.id],o.resolve(r.data)):"id"in r?a.emit(r.event,r.data,function(n){var e={id:r.id,data:n};t.readyState===t.OPEN||t.readyState===t.CONNECTING?(i("reply",e),t.send(JSON.stringify(e))):i("cancel reply",e,"(socket is closed)")}):a.emit(r.event,r.data)};var f={},s=0;return a}},function(t,n,e){t.exports="undefined"==typeof window||"undefined"==typeof window.Promise?e(24):window.Promise},function(t,n,e){"use strict";t.exports=e(25)},function(t,n,e){"use strict";t.exports=e(26),e(28),e(29),e(30),e(31)},function(t,n,e){"use strict";function r(){}function o(t){try{return t.then}catch(n){return m=n,y}}function i(t,n){try{return t(n)}catch(e){return m=e,y}}function u(t,n,e){try{t(n,e)}catch(r){return m=r,y}}function c(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._37=0,this._12=null,this._59=[],t!==r&&h(t,this)}function a(t,n,e){return new t.constructor(function(o,i){var u=new c(r);u.then(o,i),f(t,new d(n,e,u))})}function f(t,n){for(;3===t._37;)t=t._12;return 0===t._37?void t._59.push(n):void v(function(){var e=1===t._37?n.onFulfilled:n.onRejected;if(null===e)return void(1===t._37?s(n.promise,t._12):l(n.promise,t._12));var r=i(e,t._12);r===y?l(n.promise,m):s(n.promise,r)})}function s(t,n){if(n===t)return l(t,new TypeError("A promise cannot be resolved with itself."));if(n&&("object"==typeof n||"function"==typeof n)){var e=o(n);if(e===y)return l(t,m);if(e===t.then&&n instanceof c)return t._37=3,t._12=n,void p(t);if("function"==typeof e)return void h(e.bind(n),t)}t._37=1,t._12=n,p(t)}function l(t,n){t._37=2,t._12=n,p(t)}function p(t){for(var n=0;n<t._59.length;n++)f(t,t._59[n]);t._59=null}function d(t,n,e){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=e}function h(t,n){var e=!1,r=u(t,function(t){e||(e=!0,s(n,t))},function(t){e||(e=!0,l(n,t))});e||r!==y||(e=!0,l(n,m))}var v=e(27),m=null,y={};t.exports=c,c._99=r,c.prototype.then=function(t,n){if(this.constructor!==c)return a(this,t,n);var e=new c(r);return f(this,new d(t,n,e)),e}},function(t,n){(function(n){"use strict";function e(t){c.length||(u(),a=!0),c[c.length]=t}function r(){for(;f<c.length;){var t=f;if(f+=1,c[t].call(),f>s){for(var n=0,e=c.length-f;e>n;n++)c[n]=c[n+f];c.length-=f,f=0}}c.length=0,f=0,a=!1}function o(t){var n=1,e=new l(t),r=document.createTextNode("");return e.observe(r,{characterData:!0}),function(){n=-n,r.data=n}}function i(t){return function(){function n(){clearTimeout(e),clearInterval(r),t()}var e=setTimeout(n,0),r=setInterval(n,50)}}t.exports=e;var u,c=[],a=!1,f=0,s=1024,l=n.MutationObserver||n.WebKitMutationObserver;u="function"==typeof l?o(r):i(r),e.requestFlush=u,e.makeRequestCallFromTimer=i}).call(n,function(){return this}())},function(t,n,e){"use strict";var r=e(26);t.exports=r,r.prototype.done=function(t,n){var e=arguments.length?this.then.apply(this,arguments):this;e.then(null,function(t){setTimeout(function(){throw t},0)})}},function(t,n,e){"use strict";var r=e(26);t.exports=r,r.prototype["finally"]=function(t){return this.then(function(n){return r.resolve(t()).then(function(){return n})},function(n){return r.resolve(t()).then(function(){throw n})})}},function(t,n,e){"use strict";function r(t){var n=new o(o._99);return n._37=1,n._12=t,n}var o=e(26);t.exports=o;var i=r(!0),u=r(!1),c=r(null),a=r(void 0),f=r(0),s=r("");o.resolve=function(t){if(t instanceof o)return t;if(null===t)return c;if(void 0===t)return a;if(t===!0)return i;if(t===!1)return u;if(0===t)return f;if(""===t)return s;if("object"==typeof t||"function"==typeof t)try{var n=t.then;if("function"==typeof n)return new o(n.bind(t))}catch(e){return new o(function(t,n){n(e)})}return r(t)},o.all=function(t){var n=Array.prototype.slice.call(t);return new o(function(t,e){function r(u,c){if(c&&("object"==typeof c||"function"==typeof c)){if(c instanceof o&&c.then===o.prototype.then){for(;3===c._37;)c=c._12;return 1===c._37?r(u,c._12):(2===c._37&&e(c._12),void c.then(function(t){r(u,t)},e))}var a=c.then;if("function"==typeof a){var f=new o(a.bind(c));return void f.then(function(t){r(u,t)},e)}}n[u]=c,0===--i&&t(n)}if(0===n.length)return t([]);for(var i=n.length,u=0;u<n.length;u++)r(u,n[u])})},o.reject=function(t){return new o(function(n,e){e(t)})},o.race=function(t){return new o(function(n,e){t.forEach(function(t){o.resolve(t).then(n,e)})})},o.prototype["catch"]=function(t){return this.then(null,t)}},function(t,n,e){"use strict";var r=e(26),o=e(32);t.exports=r,r.denodeify=function(t,n){return n=n||1/0,function(){var e=this,o=Array.prototype.slice.call(arguments,0,n>0?n:0);return new r(function(n,r){o.push(function(t,e){t?r(t):n(e)});var i=t.apply(e,o);!i||"object"!=typeof i&&"function"!=typeof i||"function"!=typeof i.then||n(i)})}},r.nodeify=function(t){return function(){var n=Array.prototype.slice.call(arguments),e="function"==typeof n[n.length-1]?n.pop():null,i=this;try{return t.apply(this,arguments).nodeify(e,i)}catch(u){if(null===e||"undefined"==typeof e)return new r(function(t,n){n(u)});o(function(){e.call(i,u)})}}},r.prototype.nodeify=function(t,n){return"function"!=typeof t?this:void this.then(function(e){o(function(){t.call(n,null,e)})},function(e){o(function(){t.call(n,e)})})}},function(t,n,e){"use strict";function r(){if(a.length)throw a.shift()}function o(t){var n;n=c.length?c.pop():new i,n.task=t,u(n)}function i(){this.task=null}var u=e(27),c=[],a=[],f=u.makeRequestCallFromTimer(r);t.exports=o,i.prototype.call=function(){try{this.task.call()}catch(t){o.onerror?o.onerror(t):(a.push(t),f())}finally{this.task=null,c[c.length]=this}}},function(t,n,e){var r="undefined"!=typeof window?window.Debug:e(34);t.exports=r||function(){var t=arguments[0];return function(){var n="undefined"==typeof log?console.log:log,e=t+" "+arguments[0];"undefined"!=typeof arguments[1]&&(e+=" "+JSON.stringify(arguments[1])),n(e)}}},function(t,e){t.exports=n},function(t,n,e){var r=e(20),o=e(23),i=e(33)("hypertimer:slave"),u=e(22),c=e(36),a=e(37),f=36e5,s=1e3,l=5;n.createSlave=function(t){function n(){function t(){var t=null;return v?o.resolve(t):e(d).then(function(n){t=n})["catch"](function(t){console.log(t)}).then(function(){return a.wait(s)}).then(function(){return t})}return a.repeat(t,l).then(function(t){i("latencies",t);var n=t.filter(function(t){return null!==t}),e=c.median(n)+c.std(n),r=n.filter(function(t){return e>t});return r.length>0?c.mean(r):null}).then(function(t){return v?o.resolve(null):d.request("time").then(function(n){var e=n+t;return d.emit("change",e),e})})["catch"](function(t){d.emit("error",t)})}function e(t){var n=Date.now();return t.request("time").then(function(e){var r=Date.now(),o=(r-n)/2,i=e+o;return h&&(h=!1,t.emit("change",i)),o})}var p=new r(t),d=u(p),h=!0,v=!1,m=null;return p.onopen=function(){i("connected"),n(),m=setInterval(n,f)},d.destroy=function(){v=!0,clearInterval(m),m=null,p.close(),i("destroyed")},d}},function(t,n){n.compare=function(t,n){return t>n?1:n>t?-1:0},n.add=function(t,n){return t+n},n.sum=function(t){return t.reduce(n.add)},n.mean=function(t){return n.sum(t)/t.length},n.std=function(t){return Math.sqrt(n.variance(t))},n.variance=function(t){if(t.length<2)return 0;var e=n.mean(t);return t.map(function(t){return Math.pow(t-e,2)}).reduce(n.add)/(t.length-1)},n.median=function(t){if(t.length<2)return t[0];var e=t.slice().sort(n.compare);return e.length%2===0?(t[t.length/2-1]+t[t.length/2])/2:t[(t.length-1)/2]}},function(t,n,e){var r=e(23);n.wait=function(t){return new r(function(n){setTimeout(n,t)})},n.repeat=function(t,n){return new r(function(e,r){function o(){n>i?(i++,t().then(function(t){u.push(t),o()})):e(u)}var i=0,u=[];o()})},n.whilst=function(t,n){return new r(function(e,r){function o(){t()?n().then(function(){o()}):e()}o()})}},function(t,n){"function"==typeof Date.now?n.systemNow=function(){return Date.now()}:n.systemNow=function(){return(new Date).valueOf()},n.shuffle=function(t){for(var n,e,r=t.length;r;n=Math.floor(Math.random()*r),e=t[--r],t[r]=t[n],t[n]=e);return t}}])});
//# sourceMappingURL=hypertimer.map